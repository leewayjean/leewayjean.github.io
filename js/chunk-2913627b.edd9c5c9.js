(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2913627b"],{"4bec":function(t,s,e){"use strict";var a=e("9baf"),n=e.n(a);n.a},5863:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"food"},[e("section",{ref:"categories_wrapper",staticClass:"categories_wrapper"},[e("ul",{staticClass:"food_categories"},t._l(t.foodList,(function(s,a){return e("li",{key:s.id,staticClass:"categories_item",class:{activeClass:t.currentIndex==a},on:{click:function(s){return t.scrollToElement(a)}}},[t._v(t._s(s.name))])})),0)]),e("section",{ref:"food_wrapper",staticClass:"food_wrapper"},[e("section",t._l(t.foodList,(function(s){return e("div",{key:s.id,staticClass:"list_item"},[e("h3",{staticClass:"title"},[t._v(" "+t._s(s.name)+" "),e("span",{staticClass:"title_info"},[t._v(t._s(s.description))])]),e("ul",t._l(s.foods,(function(s){return e("li",{key:s.item_idd,staticClass:"food_info"},[e("img",{staticClass:"food_img",attrs:{src:"//elm.cangdu.org/img/"+s.image_path,alt:""}}),e("section",[e("h5",{staticClass:"food_name"},[t._v(t._s(s.name))]),e("p",{staticClass:"food_des"},[t._v(t._s(s.description))]),e("p",{staticClass:"food_tips"},[t._v(t._s(s.tips))]),e("section",{staticClass:"buy_container"},[t._m(0,!0),s.specfoods.length>1?e("span",{staticClass:"add_btn",on:{click:t.selected}},[t._v("选规格")]):e("CartControl",{on:{"add-food":function(e){return t.addToCart(s)}}})],1)])])})),0)])})),0)]),t._m(1),t.isShow?e("section",{staticClass:"pop_mask",on:{"~click":function(s){return s.stopPropagation(),s.preventDefault(),t.closeAlert(s)}}},[e("section",{staticClass:"content"},[e("header",[e("span",[t._v("我问问")]),e("span",{on:{"~click":function(s){return s.stopPropagation(),s.preventDefault(),t.closeAlert(s)}}},[t._v("×")])]),t._m(2),t._m(3)])]):t._e()])},n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"price"},[e("span",{staticClass:"icon"},[t._v("￥")]),t._v("20 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("footer",[e("span",{staticClass:"cart"},[e("i",{staticClass:"fa fa-shopping-cart",attrs:{"aria-hidden":"true"}})]),e("section",{staticClass:"cart_container"},[e("section",{staticClass:"total"},[e("p",{staticClass:"price"},[t._v("￥4200元")]),e("p",{staticClass:"fee"},[t._v("配送费5元")])]),e("span",{staticClass:"payBtn"},[t._v("去结算")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("main",[e("h3",[t._v("规格")]),e("div",[e("span",[t._v("默认")]),e("span",[t._v("啊")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("footer",[e("span",{staticClass:"price"},[e("span",[t._v("￥")]),t._v("20 ")]),e("span",{staticClass:"add"},[t._v("加入购物车")])])}],i=e("229e"),o=e("8ba8"),r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cart_control"},[t._m(0),e("span",{staticClass:"count"},[t._v(t._s(t.count))]),e("span",{staticClass:"circle",on:{click:t.addToCart}},[e("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])])},c=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"circle"},[e("i",{staticClass:"fa fa-minus",attrs:{"aria-hidden":"true"}})])}],l=(e("a9e3"),{name:"CartControl",props:{count:{type:Number,default:0}},methods:{addToCart:function(){this.$emit("add-food")}}}),f=l,u=(e("ad6d"),e("2877")),d=Object(u["a"])(f,r,c,!1,null,"897b9812",null),p=d.exports,_={name:"Food",data:function(){return{cart:[],foodList:[],id:this.$route.query.id,listHeight:[],foodScroll:{},menuScroll:{},scrollY:0,isShow:!1}},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var s=this.listHeight[t],e=this.listHeight[t+1];if(this.scrollY>=s&&this.scrollY<e)return t}return 0}},methods:{addToCart:function(t){console.log(t),this.$store.commit("ADD_FOOD",t),this.toast.show("添加到购物车成功！")},selected:function(){this.isShow=!0},closeAlert:function(){this.isShow&&(this.isShow=!1)},scrollToElement:function(t){var s=this.$refs.food_wrapper.getElementsByClassName("list_item");this.foodScroll.scrollToElement(s[t],200)},initScroll:function(){this.menuScroll=new i["a"](this.$refs.categories_wrapper,{click:!0}),this.foodScroll=new i["a"](this.$refs.food_wrapper,{click:!0,probeType:3})},calculateHeight:function(){var t=this.$refs.food_wrapper.getElementsByClassName("list_item"),s=0,e=[];e.push(s);for(var a=0;a<t.length;a++)s+=t[a].clientHeight,e.push(s);this.listHeight=e}},created:function(){var t=this;Object(o["f"])(this.id).then((function(s){console.log(s.data),t.foodList=s.data,t.$parent.successLoadData=!0,t.$nextTick((function(){t.initScroll(),t.calculateHeight(),t.foodScroll.on("scroll",(function(s){t.scrollY=Math.abs(Math.round(s.y))}))}))}))},components:{CartControl:p}},h=_,v=(e("4bec"),Object(u["a"])(h,a,n,!1,null,"edced3d0",null));s["default"]=v.exports},5899:function(t,s){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,s,e){var a=e("1d80"),n=e("5899"),i="["+n+"]",o=RegExp("^"+i+i+"*"),r=RegExp(i+i+"*$"),c=function(t){return function(s){var e=String(a(s));return 1&t&&(e=e.replace(o,"")),2&t&&(e=e.replace(r,"")),e}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,s,e){var a=e("861d"),n=e("d2bb");t.exports=function(t,s,e){var i,o;return n&&"function"==typeof(i=s.constructor)&&i!==e&&a(o=i.prototype)&&o!==e.prototype&&n(t,o),t}},"9baf":function(t,s,e){},a9e3:function(t,s,e){"use strict";var a=e("83ab"),n=e("da84"),i=e("94ca"),o=e("6eeb"),r=e("5135"),c=e("c6b6"),l=e("7156"),f=e("c04e"),u=e("d039"),d=e("7c73"),p=e("241c").f,_=e("06cf").f,h=e("9bf2").f,v=e("58a8").trim,m="Number",C=n[m],g=C.prototype,b=c(d(g))==m,E=function(t){var s,e,a,n,i,o,r,c,l=f(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),s=l.charCodeAt(0),43===s||45===s){if(e=l.charCodeAt(2),88===e||120===e)return NaN}else if(48===s){switch(l.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+l}for(i=l.slice(2),o=i.length,r=0;r<o;r++)if(c=i.charCodeAt(r),c<48||c>n)return NaN;return parseInt(i,a)}return+l};if(i(m,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var w,N=function(t){var s=arguments.length<1?0:t,e=this;return e instanceof N&&(b?u((function(){g.valueOf.call(e)})):c(e)!=m)?l(new C(E(s)),e,N):E(s)},I=a?p(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;I.length>S;S++)r(C,w=I[S])&&!r(N,w)&&h(N,w,_(C,w));N.prototype=g,g.constructor=N,o(n,m,N)}},ad6d:function(t,s,e){"use strict";var a=e("c056"),n=e.n(a);n.a},c056:function(t,s,e){}}]);
//# sourceMappingURL=chunk-2913627b.edd9c5c9.js.map