(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-857ac386"],{"8ba8":function(t,n,e){"use strict";e.d(n,"g",(function(){return r})),e.d(n,"d",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"e",(function(){return c})),e.d(n,"m",(function(){return u})),e.d(n,"a",(function(){return l})),e.d(n,"h",(function(){return d})),e.d(n,"n",(function(){return h})),e.d(n,"l",(function(){return f})),e.d(n,"k",(function(){return g})),e.d(n,"f",(function(){return p})),e.d(n,"j",(function(){return _})),e.d(n,"i",(function(){return m})),e.d(n,"o",(function(){return v})),e.d(n,"b",(function(){return b}));e("99af");var a=e("bc3a"),s=e.n(a),r=function(){return s.a.get("https://elm.cangdu.org/v1/cities?type=hot")},i=function(){return s.a.get("https://elm.cangdu.org/v1/cities?type=guess")},o=function(){return s.a.get("https://elm.cangdu.org/v1/cities?type=group")},c=function(t){return s.a.get("https://elm.cangdu.org/v1/cities/".concat(t))},u=function(t,n){return s.a.get("https://elm.cangdu.org/v1/pois?city_id=".concat(t,"&keyword=").concat(n,"&type=search"))},l=function(t){return s.a.get("https://elm.cangdu.org/v2/pois/".concat(t))},d=function(){return s.a.get("https://elm.cangdu.org/v2/index_entry")},h=function(t,n){return s.a.get("https://elm.cangdu.org/v4/restaurants?geohash=31.22967,121.4762&keyword=肯德基")},f=function(t,n){return s.a.get("https://elm.cangdu.org/shopping/restaurants?latitude=".concat(t,"&longitude=").concat(n))},g=function(t){return s.a.get("https://elm.cangdu.org/shopping/restaurant/".concat(t))},p=function(t){return s.a.get("https://elm.cangdu.org/shopping/v2/menu?restaurant_id=".concat(t))},_=function(t){return s.a.get("https://elm.cangdu.org/ugc/v2/restaurants/".concat(t,"/ratings/tags"))},m=function(t){return s.a.get("https://elm.cangdu.org/ugc/v2/restaurants/".concat(t,"/ratings"))},v=function(t,n,e){return s.a.post("https://elm.cangdu.org/v2/login",{username:t,password:n,captcha_code:e})},b=function(){return s.a.post("https://elm.cangdu.org/v1/captchas",{})}},"99af":function(t,n,e){"use strict";var a=e("23e7"),s=e("d039"),r=e("e8b5"),i=e("861d"),o=e("7b0b"),c=e("50c4"),u=e("8418"),l=e("65f0"),d=e("1dde"),h=e("b622"),f=e("60ae"),g=h("isConcatSpreadable"),p=9007199254740991,_="Maximum allowed index exceeded",m=f>=51||!s((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),v=d("concat"),b=function(t){if(!i(t))return!1;var n=t[g];return void 0!==n?!!n:r(t)},y=!m||!v;a({target:"Array",proto:!0,forced:y},{concat:function(t){var n,e,a,s,r,i=o(this),d=l(i,0),h=0;for(n=-1,a=arguments.length;n<a;n++)if(r=-1===n?i:arguments[n],b(r)){if(s=c(r.length),h+s>p)throw TypeError(_);for(e=0;e<s;e++,h++)e in r&&u(d,h,r[e])}else{if(h>=p)throw TypeError(_);u(d,h++,r)}return d.length=h,d}})},"9c9b":function(t,n,e){"use strict";var a=e("ac56"),s=e.n(a);s.a},a81d:function(t,n,e){"use strict";var a=e("b76a"),s=e.n(a);s.a},ac56:function(t,n,e){},b0c0:function(t,n,e){var a=e("83ab"),s=e("9bf2").f,r=Function.prototype,i=r.toString,o=/^\s*function ([^ (]*)/,c="name";!a||c in r||s(r,c,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(t){return""}}})},b2d7:function(t,n,e){"use strict";var a=e("ffa5"),s=e.n(a);s.a},b3d7:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home"},[e("header-top",{attrs:{loginshow:!0}},[e("router-link",{attrs:{slot:"search_btn",to:"/search"},slot:"search_btn"},[e("i",{staticClass:"fa fa-search search_btn",attrs:{"aria-hidden":"true"}})]),e("router-link",{attrs:{slot:"address",to:"/cities",tag:"span"},slot:"address"},[e("span",{staticClass:"address"},[t._v(t._s(t.sliceAddress))])])],1),e("div",{staticClass:"swipe_container"},[e("mt-swipe",{staticClass:"swiper",attrs:{auto:0}},t._l(t.indexEntry,(function(n,a){return e("mt-swipe-item",{key:a,staticClass:"swipe_item"},t._l(n,(function(n){return e("div",{key:n.id,staticClass:"entry_item"},[e("img",{staticClass:"entry_img",attrs:{src:"https://fuss10.elemecdn.com"+n.image_url,alt:"分类"}}),e("h5",{staticClass:"entry_title"},[t._v(t._s(n.title))])])})),0)})),1)],1),e("section",{staticClass:"shop_list_container"},[e("header",{staticClass:"shop_header"},[t._v("附近商家")]),e("keep-alive",[e("shop-list")],1)],1),e("Footer")],1)},s=[],r=(e("fb6a"),e("b0c0"),e("f392")),i=e("4c03"),o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",{staticClass:"shop_list"},t._l(t.restaurants,(function(n,a){return e("li",{key:a,staticClass:"shop_item",on:{click:function(e){return t.goToShop(n)}}},[e("section",{staticClass:"avatar"},[e("img",{attrs:{src:"//elm.cangdu.org/img/"+n.image_path,alt:""}})]),e("section",{staticClass:"shop"},[e("section",{staticClass:"shop_info"},[e("h3",{staticClass:"name"},[e("span",{staticClass:"icon"},[t._v("品牌")]),t._v(" "+t._s(n.name)+" ")]),e("span",{staticClass:"month_sell"},[t._v("月售8888")])]),e("section",{staticClass:"shop_info"},[e("section",[e("span",{staticClass:"rating_num"},[t._v(t._s(n.rating))]),e("span",{staticClass:"month_sell"},[t._v("月售"+t._s(n.recent_order_num)+"单")])]),e("p",{staticClass:"month_sell"},[t._v("月售8888")])]),e("section",{staticClass:"shop_info"},[e("span",{staticClass:"delivery"},[t._v("￥"+t._s(n.float_delivery_fee)+"元起送 / 配送费约"+t._s(n.float_minimum_order_amount)+"元")]),e("span",[e("span",{staticClass:"distance"},[t._v(t._s(n.distance)+"/")]),e("span",{staticClass:"order_lead_time"},[t._v(t._s(n.order_lead_time))])])])])])})),0)},c=[],u=e("8ba8"),l={name:"ShopList",data:function(){return{restaurants:[]}},methods:{goToShop:function(t){this.$router.push({path:"/shop",query:{id:t.id}})}},mounted:function(){var t=this;Object(u["l"])().then((function(n){t.restaurants=n.data}))}},d=l,h=(e("a81d"),e("2877")),f=Object(h["a"])(d,o,c,!1,null,"d54b0e26",null),g=f.exports,p={name:"Home",data:function(){return{indexEntry:[],address:"正在获取定位...",geohash:""}},computed:{sliceAddress:function(){return this.address.length>9?this.address.slice(0,9)+"...":this.address}},created:function(){var t=this;this.geohash=this.$route.query.geohash,this.geohash||(this.geohash=this.$store.state.geohash),Object(u["a"])(this.geohash).then((function(n){t.address=n.data.name})).catch((function(t){console.log(t)}))},mounted:function(){var t=this;Object(u["h"])().then((function(n){var e=[];e.push(n.data.slice(0,8)),t.indexEntry=e}))},components:{HeaderTop:r["a"],ShopList:g,Footer:i["a"]}},_=p,m=(e("b2d7"),Object(h["a"])(_,a,s,!1,null,"adbad56a",null));n["default"]=m.exports},b76a:function(t,n,e){},f392:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",[t._t("logo"),t._t("search_btn"),t.goback?e("i",{staticClass:"fa fa-angle-left goback",attrs:{"aria-hidden":"true"},on:{click:t.goBack}}):t._e(),t.headshow?e("h3",{staticClass:"city_name"},[t._v(t._s(t.headtitle))]):t._e(),t._t("address"),t.loginshow?e("router-link",{attrs:{to:t.isLogin?"/profile":"login",tag:"div"}},[t.isLogin?e("span",{staticClass:"user",attrs:{tag:"span",to:"/login"}},[e("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}})]):e("span",{staticClass:"login"},[t._v("登录|注册")])]):t._e(),t._t("changcity")],2)},s=[],r={name:"HeaderTop",props:{goback:{type:Boolean,default:!1},headtitle:{type:String},headshow:{type:Boolean,default:!1},loginshow:{type:Boolean,default:!1}},computed:{isLogin:function(){return this.$store.state.isLogin}},methods:{goBack:function(){this.$router.go(-1)}}},i=r,o=(e("9c9b"),e("2877")),c=Object(o["a"])(i,a,s,!1,null,"bb6a07d0",null);n["a"]=c.exports},fb6a:function(t,n,e){"use strict";var a=e("23e7"),s=e("861d"),r=e("e8b5"),i=e("23cb"),o=e("50c4"),c=e("fc6a"),u=e("8418"),l=e("1dde"),d=e("b622"),h=d("species"),f=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!l("slice")},{slice:function(t,n){var e,a,l,d=c(this),p=o(d.length),_=i(t,p),m=i(void 0===n?p:n,p);if(r(d)&&(e=d.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)?s(e)&&(e=e[h],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return f.call(d,_,m);for(a=new(void 0===e?Array:e)(g(m-_,0)),l=0;_<m;_++,l++)_ in d&&u(a,l,d[_]);return a.length=l,a}})},ffa5:function(t,n,e){}}]);
//# sourceMappingURL=chunk-857ac386.62070306.js.map